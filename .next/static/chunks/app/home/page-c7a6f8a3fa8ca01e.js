(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{7123:function(e,t,a){Promise.resolve().then(a.bind(a,7038))},6501:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return d},a:function(){return l}});var s=a(7437),n=a(2265),c=a(3301),o=a(4986);let i=(0,n.createContext)({});function d(e){let{children:t}=e,[a,d]=(0,n.useState)(null),[l,r]=(0,n.useState)(!0),u=(0,c.v0)(o.l);(0,n.useEffect)(()=>{let e=(0,c.Aj)(u,e=>{e?d({uid:e.uid,email:e.email}):d(null),r(!1)});return()=>e()},[u]);let m=async(e,t)=>{await (0,c.e5)(u,e,t)},h=async(e,t)=>{await (0,c.Xb)(u,e,t)},p=async()=>{await (0,c.w7)(u)},j=async()=>{let e=new c.hJ;await (0,c.rh)(u,e)};return(0,s.jsx)(i.Provider,{value:{user:a,loading:l,signIn:m,signUp:h,logout:p,signInWithGoogle:j},children:!l&&t})}let l=()=>(0,n.useContext)(i)},4986:function(e,t,a){"use strict";a.d(t,{db:function(){return i},l:function(){return o}});var s=a(738),n=a(3301),c=a(5978);let o=0===(0,s.C6)().length?(0,s.ZF)({apiKey:"AIzaSyDiryIyRULcuI4hspcckFegnkR8FkMrmfk",authDomain:"honeydos-84e3d.firebaseapp.com",projectId:"honeydos-84e3d",storageBucket:"honeydos-84e3d.firebasestorage.app",messagingSenderId:"125150172805",appId:"1:125150172805:web:0779a9302787bc6afa7bec",measurementId:"G-WN0G2GFXT3"}):(0,s.C6)()[0];(0,n.v0)(o);let i=(0,c.ad)(o)},7038:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var s=a(7437),n=a(2265),c=a(9376),o=a(6501),i=a(5978),d=a(4986);function l(){let e=(0,c.useRouter)(),{user:t,logout:a}=(0,o.a)(),[l,r]=(0,n.useState)([]),[u,m]=(0,n.useState)(null),[h,p]=(0,n.useState)([]),[j,x]=(0,n.useState)(""),[f,v]=(0,n.useState)(""),[b,N]=(0,n.useState)(!0),[y,g]=(0,n.useState)(null),[k,C]=(0,n.useState)(""),[w,D]=(0,n.useState)(null),[S,F]=(0,n.useState)("");(0,n.useEffect)(()=>{if(!t){e.push("/login");return}let a=(0,i.IO)((0,i.hJ)(d.db,"projects"),(0,i.ar)("userId","==",t.uid)),s=(0,i.cf)(a,e=>{r(e.docs.map(e=>({id:e.id,...e.data()}))),N(!1)});return()=>s()},[t,e]),(0,n.useEffect)(()=>{if(!u)return;let e=(0,i.IO)((0,i.hJ)(d.db,"todos"),(0,i.ar)("projectId","==",u.id)),t=(0,i.cf)(e,e=>{p(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>t()},[u]);let I=async()=>{try{await a(),e.push("/login")}catch(e){console.error("Failed to logout:",e)}},J=async e=>{if(e.preventDefault(),j.trim()&&t)try{await (0,i.ET)((0,i.hJ)(d.db,"projects"),{name:j,userId:t.uid,createdAt:new Date}),x("")}catch(e){console.error("Failed to add project:",e)}},E=async e=>{if(e.preventDefault(),f.trim()&&u)try{await (0,i.ET)((0,i.hJ)(d.db,"todos"),{title:f,completed:!1,projectId:u.id,createdAt:new Date}),v("")}catch(e){console.error("Failed to add todo:",e)}},A=async(e,t)=>{try{await (0,i.r7)((0,i.JU)(d.db,"todos",e),{completed:!t})}catch(e){console.error("Failed to update todo:",e)}},R=async e=>{g(e),C(e.title)},U=async e=>{if(e.preventDefault(),y&&k.trim())try{await (0,i.r7)((0,i.JU)(d.db,"todos",y.id),{title:k}),g(null),C("")}catch(e){console.error("Failed to update todo:",e)}},_=async e=>{try{await (0,i.oe)((0,i.JU)(d.db,"todos",e))}catch(e){console.error("Failed to delete todo:",e)}},O=()=>{g(null),C("")},P=e=>{D(e),F(e.name)},q=async e=>{if(e.preventDefault(),w&&S.trim())try{await (0,i.r7)((0,i.JU)(d.db,"projects",w.id),{name:S}),D(null),F("")}catch(e){console.error("Failed to update project:",e)}},G=async e=>{try{let t=(0,i.IO)((0,i.hJ)(d.db,"todos"),(0,i.ar)("projectId","==",e)),a=(0,i.cf)(t,async e=>{let t=e.docs.map(e=>(0,i.oe)(e.ref));await Promise.all(t)});await (0,i.oe)((0,i.JU)(d.db,"projects",e)),(null==u?void 0:u.id)===e&&m(null),a()}catch(e){console.error("Failed to delete project:",e)}},L=()=>{D(null),F("")};return b?(0,s.jsx)("div",{className:"loading",children:"Loading..."}):(0,s.jsxs)("div",{className:"home-container",children:[(0,s.jsx)("nav",{className:"nav",children:(0,s.jsxs)("div",{className:"nav-content",children:[(0,s.jsx)("h1",{className:"nav-title",children:"Honey Do list"}),(0,s.jsx)("button",{onClick:I,className:"btn btn-outline",children:"Logout"})]})}),(0,s.jsxs)("main",{className:"main-content",children:[(0,s.jsxs)("section",{className:"projects-section",children:[(0,s.jsx)("div",{className:"section-header",children:(0,s.jsx)("h2",{children:"My Projects"})}),(0,s.jsx)("form",{onSubmit:J,className:"quick-add-form",children:(0,s.jsx)("input",{type:"text",value:j,onChange:e=>x(e.target.value),placeholder:"+ Add new project",className:"quick-add-input"})}),(0,s.jsx)("div",{className:"projects-grid",children:l.map(e=>(0,s.jsx)("div",{className:"project-card ".concat((null==u?void 0:u.id)===e.id?"selected":""),children:(null==w?void 0:w.id)===e.id?(0,s.jsxs)("form",{onSubmit:q,className:"project-edit-form",children:[(0,s.jsx)("input",{type:"text",value:S,onChange:e=>F(e.target.value),className:"project-edit-input",autoFocus:!0}),(0,s.jsxs)("div",{className:"project-actions",children:[(0,s.jsx)("button",{type:"submit",className:"project-action-btn save",children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:L,className:"project-action-btn cancel",children:"Cancel"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"project-content",onClick:()=>m(e),children:[(0,s.jsx)("div",{className:"project-icon",children:"\uD83D\uDCC1"}),(0,s.jsx)("h3",{className:"project-name",children:e.name})]}),(0,s.jsxs)("div",{className:"project-actions",children:[(0,s.jsx)("button",{onClick:()=>P(e),className:"project-action-btn edit",children:"✏️"}),(0,s.jsx)("button",{onClick:()=>G(e.id),className:"project-action-btn delete",children:"\uD83D\uDDD1️"})]})]})},e.id))})]}),(0,s.jsx)("section",{className:"todos-section",children:u?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"section-header",children:(0,s.jsx)("h2",{children:u.name})}),(0,s.jsx)("form",{onSubmit:E,className:"quick-add-form",children:(0,s.jsx)("input",{type:"text",value:f,onChange:e=>v(e.target.value),placeholder:"+ Add new todo",className:"quick-add-input"})}),(0,s.jsx)("div",{className:"todos-list",children:h.map(e=>(0,s.jsx)("div",{className:"todo-item ".concat(e.completed?"completed":""),children:(null==y?void 0:y.id)===e.id?(0,s.jsxs)("form",{onSubmit:U,className:"todo-edit-form",children:[(0,s.jsx)("input",{type:"text",value:k,onChange:e=>C(e.target.value),className:"todo-edit-input",autoFocus:!0}),(0,s.jsxs)("div",{className:"todo-actions",children:[(0,s.jsx)("button",{type:"submit",className:"todo-action-btn save",children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:O,className:"todo-action-btn cancel",children:"Cancel"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"checkbox",checked:e.completed,onChange:()=>A(e.id,e.completed),className:"todo-checkbox"}),(0,s.jsx)("span",{className:"todo-title",children:e.title}),(0,s.jsxs)("div",{className:"todo-actions",children:[(0,s.jsx)("button",{onClick:()=>R(e),className:"todo-action-btn edit",children:"✏️"}),(0,s.jsx)("button",{onClick:()=>_(e.id),className:"todo-action-btn delete",children:"\uD83D\uDDD1️"})]})]})},e.id))})]}):(0,s.jsx)("div",{className:"empty-state",children:(0,s.jsx)("p",{children:"Select a project to manage your todos"})})})]})]})}},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[358,139,943,971,117,744],function(){return e(e.s=7123)}),_N_E=e.O()}]);